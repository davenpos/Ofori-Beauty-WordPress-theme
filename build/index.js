(()=>{"use strict";var e={n:s=>{var t=s&&s.__esModule?()=>s.default:()=>s;return e.d(t,{a:t}),t},d:(s,t)=>{for(var i in t)e.o(t,i)&&!e.o(s,i)&&Object.defineProperty(s,i,{enumerable:!0,get:t[i]})},o:(e,s)=>Object.prototype.hasOwnProperty.call(e,s)};const s=window.jQuery;var t=e.n(s);new class{constructor(){this.header=t()("header"),this.mainContent=t()("div#mainContent"),this.headerHeight,this.top,this.setTopVariables(),this.lastScrollTop,this.events()}events(){t()(window).on("scroll",(()=>this.toggleHeader())),t()(window).on("resize",(()=>this.setTopVariables()))}setTopVariables(){this.headerHeight=this.header.outerHeight(),this.top=0,t()("body").hasClass("admin-bar")&&t()(window).width()>=782&&(this.top=32)}toggleHeader(){const e=t()(window).scrollTop();t()(window).width()<=450&&(this.headerHeight+=46),e>this.headerHeight?(this.lastScrollTop||(this.lastScrollTop=e-.01),e>this.lastScrollTop?(this.header.css({position:"fixed",width:"100%",top:"-"+this.headerHeight+"px"}),t()(window).width()<=450&&(this.headerHeight-=46),this.mainContent.css("padding-top",this.headerHeight+"px")):(t()(window).width()<=450&&(this.headerHeight-=46),this.header.css({top:this.top,transition:"top 0.3s ease-in-out"}))):t()(window).width()<=450&&(this.headerHeight-=46),(0==window.scrollY||window.scrollY<=46&&t()(window).width()<=450)&&(this.header.css({position:"",width:"",transition:""}),this.mainContent.css("padding-top","")),this.lastScrollTop=e<=0?0:e}},new class{constructor(){this.searchHTML(),this.searchButton=t()("#searchButton"),this.closeButton=t()("i#closeSearch"),this.searchOverlay=t()("div#searchOverlay"),this.searchBar=t()(".searchTerm.live"),this.searchResultsDiv=t()("#liveSearchResults"),this.overlayOpen=!1,this.spinnerVisible=!1,this.typingTimer,this.previousValue,this.events()}events(){this.searchButton.on("click",(()=>this.openOverlay())),this.closeButton.on("click",(()=>this.closeOverlay())),t()(document).on("keydown",(e=>this.keyPress(e))),this.searchBar.on("keyup",(()=>this.userTypes()))}openOverlay(){var e=0;return t()("body").hasClass("admin-bar")&&t()(window).width()<=450&&(t()(window).scrollTop()<46&&(e=-(t()(window).scrollTop()-46)),this.searchOverlay.css("top",e+"px")),this.searchOverlay.css("opacity","1"),t()("html, body").css("overflow","hidden"),this.searchOverlay.addClass("searchActive"),this.searchBar.val(""),this.searchResultsDiv.html(""),setTimeout((()=>this.searchBar.trigger("focus")),301),this.overlayOpen=!0,!1}closeOverlay(){this.searchOverlay.css("opacity","0"),t()("html, body").css("overflow",""),setTimeout((()=>this.searchOverlay.removeClass("searchActive")),300),this.overlayOpen=!1}searchHTML(){t()("body").append('\n            <div id="searchOverlay">\n                <input type="text" class="searchTerm live" placeholder="Search for..." autocomplete="off">\n                <i id="closeSearch" class="fa fa-window-close fa-3x" aria-hidden="true"></i>\n                <div id="liveSearchResults"></div>\n            </div>\n        ')}keyPress(e){27==e.keyCode&&this.overlayOpen&&!t()("input, textarea").is(":focus")&&this.closeOverlay()}userTypes(){this.searchBar.val()!=this.previousValue&&(clearTimeout(this.typingTimer),this.searchBar.val()?(this.spinnerVisible||(this.searchResultsDiv.html('<i class="fa fa-spinner fa-pulse fa-3x fa-fw" aria-hidden="true">'),this.spinnerVisible=!0),this.typingTimer=setTimeout((()=>this.getSearchResults()),800)):(this.searchResultsDiv.html(""),this.spinnerVisible=!1)),this.previousValue=this.searchBar.val()}getSearchResults(){t().getJSON(siteData.url+"/wp-json/oforibeauty/v1/liveSearchResults?term="+this.searchBar.val(),(e=>{this.searchResultsDiv.html(`\n                <div class="threeColumns">\n                    <div>\n                        <h2>Blog Posts</h2>\n                        ${e.posts.length?"":"<p>No blog posts found</p>"}\n                        ${e.posts.map((e=>`<h3><a href="${e.permalink}">${e.title}</a><span class="smallBlogPostText"> by ${e.authorName}</span></h3>`)).join("")}\n                    </div>\n                    <div>\n                        <h2>Pages</h2>\n                        ${e.pages.length?"":"<p>No pages found</p>"}\n                        ${e.pages.map((e=>`<h3><a href="${e.permalink}">${e.title}</a></h3>`)).join("")}\n                    </div>\n                    <div id="servicesSearchResults">\n                        <h2>Services</h2>\n                        ${e.services.length?"":"<p>No services found</p>"}\n                        ${e.services.map((e=>`<h3><a href="${e.permalink}">${e.title}</a></h3><p class="price">${e.price}</p>`)).join("")}\n                    </div>\n                </div>\n            `),this.spinnerVisible=!1}))}},new class{constructor(){this.menuButton=t()("i.fa.fa-bars"),this.closeButton=t()("i#closeMenu"),this.navMenu=t()("nav#headerMenu"),this.menuOpen=!1,this.top=0,t()("body").hasClass("admin-bar")?t()(window).width()<782?this.top=46:this.top=32:this.top=0,this.navMenu.css("top",-this.navMenu.outerHeight()+"px"),this.events()}events(){t()(window).on("resize",(()=>this.navMenu.css("top",-this.navMenu.outerHeight()+"px"))),this.menuButton.on("click",(()=>this.openMobileMenu())),this.closeButton.on("click",(()=>this.closeMobileMenu())),t()(document).on("click",(e=>{!this.menuOpen||t()(e.target).closest("nav#headerMenu").length||t()(e.target).closest("div#wpadminbar").length||t()(e.target).is(this.menuButton)||this.closeMobileMenu()}))}openMobileMenu(){t()(window).scrollTop()>t()("header").outerHeight()?this.navMenu.css("top","0"):this.navMenu.css("top",this.top+"px"),t()("html, body").css("overflow","hidden"),this.menuOpen=!0}closeMobileMenu(){t()("html, body").css("overflow",""),this.navMenu.css("top",-this.navMenu.outerHeight()+"px"),this.menuOpen=!1}}})();